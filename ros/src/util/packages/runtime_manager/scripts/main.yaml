selector :
  load_map :
    sel   : '[ self.checkbox_auto_update.GetValue(), "vmap" ]'
    False : sample_points_map
    True  : points_map_loader
    vmap  : vector_map_loader

buttons:
  tablet:
    run : roslaunch runtime_manager ui_socket.launch
  mobile:
    run : echo 'mobile ui'
  vehicle:
    run : roslaunch runtime_manager vehicle_socket.launch
  database:
    run : rosrun obj_db obj_downloader

  init:
    run : roslaunch runtime_manager init.launch  
  check:
    run : roslaunch runtime_manager check.launch
  set:
    run : roslaunch runtime_manager set.launch

  points_map_loader :
    run   : rosrun map_file points_map_loader
    param : points_map_loader
    gui   :
      path_area_list :
        func    : self.text_ctrl_area_list.GetValue()
        restore : 'lambda v, tc=self.text_ctrl_area_list : set_path(tc, v)'
      scene_num :
        func    : self.choice_scene_num.GetStringSelection()
        restore : self.choice_scene_num.SetStringSelection
      path_pcd :
        func    : self.text_ctrl_point_cloud.GetValue()
        restore : 'lambda v, tc=self.text_ctrl_point_cloud : set_path(tc, v)'

  sample_points_map :
    run   : rosrun sample_data sample_points_map
    param : sample_points_map
    gui   :
      path_pcd :
        func : self.text_ctrl_point_cloud.GetValue()

  vector_map_loader :
    run   : rosrun map_file vector_map_loader
    param : vector_map_loader
    gui   :
      path_vec :
        func    : self.text_ctrl_vector_map.GetValue()
        restore : 'lambda v, tc=self.text_ctrl_vector_map : set_path(tc, v)'

ipaddress:
  tablet:   127.0.0.1
  mobile:   127.0.0.1
  vehicle:  127.0.0.1
  database: 127.0.0.1

control_check :
  - name  : accel
    param : accel
  - name  : brake
    param : brake
  - name  : steer
    param : steer
  - name  : torque
    param : torque
  - name  : veloc
    param : veloc

params :
  - name  : accel
    topic : /accel_cmd
    msg   : accel_cmd
    vars  :
    - name  : accel
      label : Accel
      min   : 0
      max   : 100
      v     : 0
  - name  : brake
    topic : /brake_cmd
    msg   : brake_cmd
    vars  :
    - name  : brake
      label : Brake
      min   : 0
      max   : 10000
      v     : 0
  - name  : steer
    topic : /steer_cmd
    msg   : steer_cmd
    vars  :
    - name  : steer
      label : Steer
      min   : -720
      max   : 720
      v     : 0
  - name  : torque
    vars  :
    - name  : torque
      label : Torque
      min   : 0
      max   : 100
      v     : 0
  - name  : veloc
    topic : /twist_cmd
    msg   : TwistStamped
    flags : [ 'stamp' ]
    vars  :
    - name  : twist.linear.x
      label : Veloc
      min   : 0
      max   : 100
      v     : 0
    - name  : twist.angular.z
      label : Angle
      min   : -1.00
      max   : 1.00
      v     : 0.00

  - name  : points_map_loader
    vars  :
    - name  : path_area_list
      kind  : path
      cmd_param :
        delim     : ''
        must      : True
#    - name  : scene_num
#      kind  : menu
#      cmd_param :
#        delim     : ''
    - name  : path_pcd
      kind  : path
      cmd_param :
        delim     : ''
        unpack    : ','
        must      : True

  - name  : sample_points_map
    vars  :
    - name  : path_pcd
      kind  : path
      cmd_param :
        delim     : ''
        unpack    : ','
        must      : True

  - name  : vector_map_loader
    vars  :
    - name  : path_vec
      kind  : path
      cmd_param :
        delim     : ''
        unpack    : ','
        must      : True
