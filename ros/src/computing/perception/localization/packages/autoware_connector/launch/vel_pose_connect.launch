<!-- -->
<launch>

  <!-- send table.xml to param server -->
  <arg name="topic_pose_stamped" default="" />
  <arg name="topic_twist_stamped" default="" />
  <arg name="topic_localizer_stamped" default="" />
  <arg name="tf_base_link" default="" />
  <arg name="sim_mode" default="false" />

  <group unless="$(arg sim_mode)">
    <node pkg="autoware_connector" type="can_status_translator" name="can_status_translator" output="log" />
    <node pkg="topic_tools" type="relay" name="pose_relay" output="log" args="$(arg topic_pose_stamped) /current_pose"/>
    <node pkg="topic_tools" type="relay" name="vel_relay" output="log" args="$(arg topic_twist_stamped) /current_velocity"/>
    <node pkg="topic_tools" type="relay" name="localizer_relay" output="log" args="$(arg topic_localizer_stamped) /localizer_pose"/>
    <node pkg="tf" type="tf_remap" name="tf_remapper" output="log">
      <rosparam param="mappings">
        - {old: "$(arg tf_base_link)",
           new: "/base_link"}
      </rosparam>
    </node>
  </group>

  <group if="$(arg sim_mode)">
    <node pkg="topic_tools" type="relay" name="pose_relay" output="log" args="/sim_pose /current_pose"/>
    <node pkg="topic_tools" type="relay" name="vel_relay" output="log" args="/sim_velocity /current_velocity"/>
  </group>

</launch>
